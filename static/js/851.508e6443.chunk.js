"use strict";(self.webpackChunk_vishalsurgade_renukai_residency_jalgaon=self.webpackChunk_vishalsurgade_renukai_residency_jalgaon||[]).push([[851],{18952:function(e,t,a){var r=a(80184);t.Z=function(e){var t=e.children;return(0,r.jsx)("h5",{children:t})}},82851:function(e,t,a){a.r(t);var r=a(1413),n=a(74165),s=a(15861),i=a(29439),l=a(78983),c=a(18952),u=a(72791),o=a(67799),d=a(99639),m=a(21830),f=a.n(m),h=a(80184);t.default=function(){var e=(0,u.useState)(JSON.parse(localStorage.getItem("user"))),t=(0,i.Z)(e,2),a=t[0],m=(t[1],(0,u.useState)({firstName:"",lastName:"",email:"",id:""})),p=(0,i.Z)(m,2),x=p[0],j=p[1],N=(0,u.useState)(""),b=(0,i.Z)(N,2),v=b[0],g=b[1],y=(0,u.useState)(!1),Z=(0,i.Z)(y,2),w=Z[0],k=Z[1],L=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===x.id){e.next=6;break}return t=(0,o.JU)(d.db,"users",x.id),e.next=4,(0,o.r7)(t,{firstName:x.firstName,lastName:x.lastName,email:x.email,phoneNo:a.phoneNumber,profile:v});case 4:e.next=8;break;case 6:return e.next=8,(0,o.ET)((0,o.hJ)(d.db,"users"),{firstName:x.firstName,lastName:x.lastName,email:x.email,phoneNo:a.phoneNumber,profile:v});case 8:f().fire({title:"Success",text:"Profile updated successfully!",icon:"success",confirmButtonColor:"#006f95"}).then((function(){window.location.reload()}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){!function(){k(!0);var e=(0,o.IO)((0,o.hJ)(d.db,"users"),(0,o.ar)("phoneNo","==",a.phoneNumber));(0,o.PL)(e).then((function(e){e.forEach((function(e){var t={firstName:e.data().firstName,lastName:e.data().lastName,email:e.data().email,id:e.id};g(e.data().profile),j(t)})),k(!1)}))}()}),[]),(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(l.xH,{className:"mb-4",children:[(0,h.jsx)(l.bn,{children:(0,h.jsx)(c.Z,{children:"Profile"})}),(0,h.jsx)(l.sl,{children:w?(0,h.jsx)("div",{className:"d-flex justify-content-center",children:(0,h.jsx)(l.LQ,{color:"primary",variant:"grow"})}):(0,h.jsxs)(l.lx,{className:"row g-3",children:[(0,h.jsx)(l.b7,{md:12,className:"d-flex justify-content-center",children:/(android|iphone|ipad|mobile)/i.test(navigator.userAgent)?(0,h.jsx)(l.pX,{style:{width:"50%"},src:v}):(0,h.jsx)(l.pX,{style:{width:"10%"},src:v})}),(0,h.jsxs)("div",{className:"d-flex justify-content-center pb-3",style:{borderBottom:"1px solid grey"},children:[(0,h.jsx)(l.u5,{className:"p-0 m-0 pt-1",children:(0,h.jsx)(l.L8,{htmlFor:"profile",style:{width:"150px"},children:"Upload"})}),(0,h.jsx)(l.jO,{hidden:!0,type:"file",id:"profile",onChange:function(e){var t=e.target.files[0],a=new FileReader;a.onload=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(t){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.result,g(a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.readAsDataURL(t)}})]}),(0,h.jsxs)(l.b7,{md:6,children:[(0,h.jsx)(l.L8,{htmlFor:"inputFirstName",children:"First Name"}),(0,h.jsx)(l.jO,{defaultValue:x.firstName,onChange:function(e){return j((0,r.Z)((0,r.Z)({},x),{},{firstName:e.target.value}))},type:"text",id:"inputFirstName"})]}),(0,h.jsxs)(l.b7,{md:6,children:[(0,h.jsx)(l.L8,{htmlFor:"inputLastName",children:"Last Name"}),(0,h.jsx)(l.jO,{defaultValue:x.lastName,onChange:function(e){return j((0,r.Z)((0,r.Z)({},x),{},{lastName:e.target.value}))},type:"text",id:"inputLastName"})]}),(0,h.jsxs)(l.b7,{md:6,children:[(0,h.jsx)(l.L8,{htmlFor:"inputEmail",children:"Email Address"}),(0,h.jsx)(l.jO,{defaultValue:x.email,onChange:function(e){return j((0,r.Z)((0,r.Z)({},x),{},{email:e.target.value}))},type:"email",id:"inputEmail"})]}),(0,h.jsxs)(l.b7,{md:6,children:[(0,h.jsx)(l.L8,{htmlFor:"inputMobil",children:"Mobile Number"}),(0,h.jsx)(l.jO,{value:null===a||void 0===a?void 0:a.phoneNumber.replace("+91",""),type:"text",id:"inputMobil"})]}),(0,h.jsx)(l.b7,{xs:12,className:"d-flex justify-content-center",children:(0,h.jsx)(l.u5,{className:"w-25",onClick:L,children:"Save"})})]})})]})})}}}]);
//# sourceMappingURL=851.508e6443.chunk.js.map