(self.webpackChunk_vishalsurgade_renukai_residency_jalgaon=self.webpackChunk_vishalsurgade_renukai_residency_jalgaon||[]).push([[670],{18952:function(e,t,r){"use strict";var n=r(80184);t.Z=function(e){var t=e.children;return(0,n.jsx)("h5",{children:t})}},65670:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var n=r(1413),a=r(74165),u=r(15861),s=r(29439),l=r(78983),d=r(72791),i=r(18952),c=r(18512),o=r(67799),f=r(99639),h=r(21830),p=r.n(h),v=r(24846),m=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M199.066,456l-7.379-7.514-3.94-3.9-86.2-86.2.053-.055L17.936,274.665l97.614-97.613,83.565,83.565L398.388,61.344,496,158.958,296.729,358.229,285.469,369.6ZM146.6,358.183l52.459,52.46.1-.1.054.054,52.311-52.311,11.259-11.368L450.746,158.958,398.388,106.6,199.115,305.871,115.55,222.306,63.191,274.665l83.464,83.463Z' class='ci-primary'/>"],x=r(72426),j=r.n(x),y=r(80184),b=function(){var e=(0,d.useState)(!1),t=(0,s.Z)(e,2),r=t[0],h=t[1],x=(0,d.useState)(""),b=(0,s.Z)(x,2),g=b[0],O=b[1],T=(0,d.useState)({amount:"",remark:""}),_=(0,s.Z)(T,2),C=_[0],P=_[1],w=(0,d.useState)([]),k=(0,s.Z)(w,2),E=k[0],Z=k[1],S=(0,d.useState)([]),N=(0,s.Z)(S,2),A=N[0],M=N[1],R=(0,d.useState)([]),B=(0,s.Z)(R,2),L=B[0],D=B[1],Y=(0,d.useState)([]),H=(0,s.Z)(Y,2),F=H[0],K=H[1],I=(0,d.useState)(""),J=(0,s.Z)(I,2),V=J[0],W=J[1],U=(0,d.useState)(0),q=(0,s.Z)(U,2),z=q[0],G=q[1],Q=JSON.parse(localStorage.getItem("userDetails")),X=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.ET)((0,o.hJ)(f.db,"transactions"),{amount:C.amount,date:(new Date).getTime(),remark:C.remark,status:"not-approved",transactionBy:Q.firstName+" "+Q.lastName,type:"maintenance"===g?"add":"deduct"});case 3:p().fire({title:"Success",text:"Entry added successfully!",icon:"success",confirmButtonColor:"#006f95"}).then((function(e){$(),h(!1)})),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0),p().fire({title:"Failed",text:"Failed to add transaction. Please try again",icon:"warning",confirmButtonColor:"#006f95"});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=(0,o.IO)((0,o.hJ)(f.db,"transactions"));(0,o.PL)(e).then((function(e){var t=[],r=[],a=0;e.forEach((function(e){"add"===e.data().type?("approved"===e.data().status&&(a+=parseInt(e.data().amount)),t.push((0,n.Z)({id:e.id,dateAsString:j()(e.data().date).format("DD MMM YYYY")},e.data()))):("approved"===e.data().status&&(a-=parseInt(e.data().amount)),r.push((0,n.Z)({id:e.id,dateAsString:j()(e.data().date).format("DD MMM YYYY")},e.data())))})),G(a),Z(t),M(r)}))},ee=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,o.JU)(f.db,"transactions",t.id),e.prev=1,e.next=4,(0,o.r7)(r,{status:"approved"});case 4:p().fire({title:"Success",text:"Transaction approved successfully!!",icon:"success",confirmButtonColor:"#006f95"}).then((function(e){$()})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),p().fire({title:"Failed",text:"Failed to approve transaction. Please try again",icon:"warning",confirmButtonColor:"#006f95"});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return(0,d.useEffect)((function(){$()}),[]),(0,d.useEffect)((function(){V.length&&(D(E.filter((function(e){return e.remark.toLowerCase().includes(V.toLowerCase())||e.dateAsString.toLowerCase().includes(V.toLowerCase())}))),K(A.filter((function(e){return e.remark.toLowerCase().includes(V.toLowerCase())||e.dateAsString.toLowerCase().includes(V.toLowerCase())}))))}),[V]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(l.xH,{className:"mb-4",children:[(0,y.jsxs)(l.bn,{className:"d-flex justify-content-between",children:[(0,y.jsx)(i.Z,{children:"Transactions"}),(0,y.jsxs)("h5",{children:["Balance : ",z," \u20b9"]})]}),(0,y.jsxs)(l.sl,{children:[(0,y.jsx)("div",{className:"d-flex justify-content-end",children:(0,y.jsx)(l.b7,{md:2,style:{marginLeft:"10px"},className:"mb-3",children:(0,y.jsx)(l.jO,{className:"w-100",type:"text",placeholder:"Search by month",defaultValue:V,onChange:function(e){return W(e.target.value)}})})}),(0,y.jsxs)(l.xH,{className:"mb-4",children:[(0,y.jsxs)(l.bn,{className:"d-flex justify-content-between",children:[(0,y.jsx)("h6",{style:{marginTop:"10px"},children:"Maintenance"}),(0,y.jsx)("span",{children:(0,y.jsx)(l.u5,{variant:"outline",onClick:function(){O("maintenance"),h(!r)},children:"Add Entry"})})]}),(0,y.jsx)(l.sl,{style:{maxHeight:"520px",overflowY:"auto"},children:(0,y.jsxs)(c.iA,{children:[(0,y.jsx)(c.hr,{children:(0,y.jsxs)(c.Tr,{children:[(0,y.jsx)(c.Th,{children:"Entry By"}),(0,y.jsx)(c.Th,{children:"Amount"}),(0,y.jsx)(c.Th,{children:"Date"}),(0,y.jsx)(c.Th,{children:"Remark"}),(0,y.jsx)(c.Th,{children:"Status"}),Q.isAdmin&&(0,y.jsx)(c.Th,{children:"Action"})]})}),(0,y.jsx)(c.p3,{children:(V.length?L:E).map((function(e){return(0,y.jsxs)(c.Tr,{children:[(0,y.jsx)(c.Td,{children:e.transactionBy}),(0,y.jsxs)(c.Td,{children:[e.amount," \u20b9"]}),(0,y.jsx)(c.Td,{children:e.dateAsString}),(0,y.jsx)(c.Td,{children:e.remark}),(0,y.jsx)(c.Td,{children:"approved"===e.status?(0,y.jsx)(l.C_,{color:"success",children:"Approved"}):(0,y.jsx)(l.C_,{color:"warning",children:"Waiting"})}),Q.isAdmin&&(0,y.jsx)(c.Td,{children:(0,y.jsxs)(l.u5,{onClick:function(){return ee(e)},disabled:"approved"===e.status,children:[(0,y.jsx)(v.Z,{icon:m}),"Approve"]})})]})}))})]})})]}),(0,y.jsxs)(l.xH,{className:"mb-4",children:[(0,y.jsxs)(l.bn,{className:"d-flex justify-content-between",children:[(0,y.jsx)("h6",{style:{marginTop:"10px"},children:"Deductions"}),(0,y.jsx)(l.u5,{variant:"outline",onClick:function(){O("deduction"),h(!r)},children:"Add Entry"})]}),(0,y.jsx)(l.sl,{style:{maxHeight:"520px",overflowY:"auto"},children:(0,y.jsxs)(c.iA,{children:[(0,y.jsx)(c.hr,{children:(0,y.jsxs)(c.Tr,{children:[(0,y.jsx)(c.Th,{children:"Entry By"}),(0,y.jsx)(c.Th,{children:"Amount"}),(0,y.jsx)(c.Th,{children:"Date"}),(0,y.jsx)(c.Th,{children:"Remark"}),(0,y.jsx)(c.Th,{children:"Status"}),Q.isAdmin&&(0,y.jsx)(c.Th,{children:"Action"})]})}),(0,y.jsx)(c.p3,{children:(V.length?F:A).map((function(e){return(0,y.jsxs)(c.Tr,{children:[(0,y.jsx)(c.Td,{children:e.transactionBy}),(0,y.jsxs)(c.Td,{children:[e.amount," \u20b9"]}),(0,y.jsx)(c.Td,{children:e.dateAsString}),(0,y.jsx)(c.Td,{children:e.remark}),(0,y.jsx)(c.Td,{children:"approved"===e.status?(0,y.jsx)(l.C_,{color:"success",children:"Approved"}):(0,y.jsx)(l.C_,{color:"warning",children:"Waiting"})}),Q.isAdmin&&(0,y.jsx)(c.Td,{children:(0,y.jsxs)(l.u5,{onClick:function(){return ee(e)},disabled:"approved"===e.status,children:[(0,y.jsx)(v.Z,{icon:m}),"Approve"]})})]})}))})]})})]})]})]}),(0,y.jsxs)(l.Tk,{visible:r,onClose:function(){return h(!1)},children:[(0,y.jsx)(l.p0,{children:(0,y.jsx)(l.fl,{children:"deduction"===g?"Entry for deduction":"Entry for maintenance"})}),(0,y.jsx)(l.sD,{children:(0,y.jsxs)(l.rb,{children:[(0,y.jsxs)(l.b7,{md:12,className:"p-1",children:[(0,y.jsx)(l.L8,{htmlFor:"inputFirstName",children:"Amount"}),(0,y.jsx)(l.jO,{type:"number",defaultValue:C.amount,onChange:function(e){return P((0,n.Z)((0,n.Z)({},C),{},{amount:e.target.value}))}})]}),(0,y.jsxs)(l.b7,{md:12,className:"p-1",children:[(0,y.jsx)(l.L8,{htmlFor:"inputLastName",children:"Remark"}),(0,y.jsx)(l.PB,{defaultValue:C.remark,onChange:function(e){return P((0,n.Z)((0,n.Z)({},C),{},{remark:e.target.value}))}})]})]})}),(0,y.jsxs)(l.Ym,{children:[(0,y.jsx)(l.u5,{color:"secondary",onClick:function(){return h(!1)},onChange:function(e){return P((0,n.Z)((0,n.Z)({},C),{},{remark:e.target.value}))},children:"Close"}),(0,y.jsx)(l.u5,{color:"primary",onClick:X,children:"Add"})]})]})]})}},72421:function(e,t,r){"use strict";var n=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(10434)),u=n(r(56690)),s=n(r(89728)),l=n(r(61655)),d=n(r(94993)),i=n(r(73808)),c=n(r(72791)),o=n(r(52007)),f=r(67386),h=n(r(85662));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.default)(e);if(t){var a=(0,i.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var v=function(e){(0,l.default)(r,e);var t=p(r);function r(e){var n;return(0,u.default)(this,r),(n=t.call(this,e)).state={headers:{}},n}return(0,s.default)(r,[{key:"render",value:function(){var e=this.state.headers,t=this.props,r=t.className,n=t.forwardedRef,u="".concat(r||""," responsiveTable");return c.default.createElement(f.Provider,{value:e},c.default.createElement("table",(0,a.default)({"data-testid":"table"},(0,h.default)(this.props),{className:u,ref:n})))}}]),r}(c.default.Component);v.propTypes={className:o.default.string,forwardedRef:o.default.oneOfType([o.default.func,o.default.shape({current:o.default.instanceOf(r.g.Element)})])},v.defaultProps={className:void 0,forwardedRef:void 0};var m=c.default.forwardRef((function(e,t){return c.default.createElement(v,(0,a.default)({},e,{forwardedRef:t}))}));m.displayName=v.name;var x=m;t.default=x},26619:function(e,t,r){"use strict";var n=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(10434)),u=n(r(72791)),s=n(r(85662)),l=function(e){return u.default.createElement("tbody",(0,a.default)({"data-testid":"tbody"},(0,s.default)(e)))};t.default=l},62279:function(e,t,r){"use strict";var n=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(10434)),u=n(r(72791)),s=r(67386),l=n(r(53995)),d=function(e){return u.default.createElement(s.Consumer,null,(function(t){return u.default.createElement(l.default,(0,a.default)({},e,{headers:t}))}))};t.default=d},53995:function(e,t,r){"use strict";var n=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(10434)),u=n(r(72791)),s=n(r(52007)),l=n(r(85662)),d=function(e){var t=e.headers,r=e.children,n=e.columnKey,s=e.className,d=e.colSpan,i="".concat(s||""," pivoted");return d?u.default.createElement("td",(0,a.default)({"data-testid":"td"},(0,l.default)(e))):u.default.createElement("td",(0,a.default)({"data-testid":"td"},(0,l.default)(e),{className:i}),u.default.createElement("div",{"data-testid":"td-before",className:"tdBefore"},t[n]),null!==r&&void 0!==r?r:u.default.createElement("div",null,"\xa0"))};d.propTypes={children:s.default.node,headers:s.default.shape({}),columnKey:s.default.number,className:s.default.string,colSpan:s.default.oneOfType([s.default.number,s.default.string])},d.defaultProps={children:void 0,headers:void 0,columnKey:void 0,className:void 0,colSpan:void 0};var i=d;t.default=i},24132:function(e,t,r){"use strict";var n=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(10434)),u=n(r(72791)),s=n(r(85662)),l=function(e){return u.default.createElement("th",(0,a.default)({"data-testid":"th"},(0,s.default)(e)))};t.default=l},96841:function(e,t,r){"use strict";var n=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(10434)),u=n(r(72791)),s=n(r(52007)),l=n(r(85662)),d=function(e){var t=e.children;return u.default.createElement("thead",(0,a.default)({"data-testid":"thead"},(0,l.default)(e)),u.default.cloneElement(t,{inHeader:!0}))};d.propTypes={children:s.default.node},d.defaultProps={children:void 0};var i=d;t.default=i},56525:function(e,t,r){"use strict";var n=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(10434)),u=n(r(72791)),s=r(67386),l=n(r(53673)),d=function(e){return u.default.createElement(s.Consumer,null,(function(t){return u.default.createElement(l.default,(0,a.default)({},e,{headers:t}))}))};t.default=d},53673:function(e,t,r){"use strict";var n=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(10434)),u=n(r(56690)),s=n(r(89728)),l=n(r(61655)),d=n(r(94993)),i=n(r(73808)),c=n(r(72791)),o=n(r(52007)),f=n(r(85662));function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.default)(e);if(t){var a=(0,i.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var p=function(e){(0,l.default)(r,e);var t=h(r);function r(e){var n;(0,u.default)(this,r),n=t.call(this,e);var a=e.headers;return a&&e.inHeader&&c.default.Children.map(e.children,(function(e,t){e&&(a[t]=e.props.children)})),n}return(0,s.default)(r,[{key:"render",value:function(){var e=this.props.children;return c.default.createElement("tr",(0,a.default)({"data-testid":"tr"},(0,f.default)(this.props)),e&&c.default.Children.map(e,(function(e,t){return e&&c.default.cloneElement(e,{key:t,columnKey:t})})))}}]),r}(c.default.Component);p.propTypes={children:o.default.node,headers:o.default.shape({}),inHeader:o.default.bool},p.defaultProps={children:void 0,headers:void 0,inHeader:void 0};var v=p;t.default=v},18512:function(e,t,r){"use strict";var n=r(64836);Object.defineProperty(t,"iA",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"p3",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"Td",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"Th",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"hr",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"Tr",{enumerable:!0,get:function(){return i.default}});var a=n(r(72421)),u=n(r(26619)),s=n(r(62279)),l=n(r(24132)),d=n(r(96841)),i=n(r(56525))},85662:function(e,t,r){"use strict";var n=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(38416));function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=function(e){return t=e,r=["inHeader","columnKey","headers","forwardedRef"],Object.keys(t).filter((function(e){return-1===r.indexOf(e)})).reduce((function(e,r){return s(s({},e),{},(0,a.default)({},r,t[r]))}),{});var t,r};t.default=l},67386:function(e,t,r){"use strict";var n=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.Provider=t.Consumer=void 0;var a=n(r(72791)).default.createContext({}),u=a.Provider,s=a.Consumer;t.Consumer=s,t.Provider=u},38416:function(e,t,r){var n=r(64062);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},10434:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},64836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}}]);
//# sourceMappingURL=670.49c2593e.chunk.js.map