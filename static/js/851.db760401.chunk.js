"use strict";(self.webpackChunk_vishalsurgade_renukai_residency_jalgaon=self.webpackChunk_vishalsurgade_renukai_residency_jalgaon||[]).push([[851],{18952:function(e,t,a){var r=a(80184);t.Z=function(e){var t=e.children;return(0,r.jsx)("h5",{children:t})}},82851:function(e,t,a){a.r(t);var r=a(1413),n=a(74165),s=a(15861),i=a(29439),l=a(78983),c=a(18952),u=a(72791),o=a(67799),d=a(99639),f=a(21830),m=a.n(f),h=a(48294),p=a(80184);t.default=function(){var e=(0,u.useState)(JSON.parse(localStorage.getItem("user"))),t=(0,i.Z)(e,2),a=t[0],f=(t[1],(0,u.useState)({firstName:"",lastName:"",email:"",id:""})),x=(0,i.Z)(f,2),j=x[0],N=x[1],v=(0,u.useState)(""),b=(0,i.Z)(v,2),g=b[0],y=b[1],Z=(0,u.useState)(!1),w=(0,i.Z)(Z,2),k=w[0],F=w[1],L=(0,u.useState)(!1),S=(0,i.Z)(L,2),C=S[0],O=S[1],_=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(){var t,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(!0),e.prev=1,t={firstName:j.firstName,lastName:j.lastName,email:j.email,phoneNo:a.phoneNumber,profile:g},""===j.id){e.next=9;break}return r=(0,o.JU)(d.db,"users",j.id),e.next=7,(0,o.r7)(r,t);case 7:e.next=11;break;case 9:return e.next=11,(0,o.ET)((0,o.hJ)(d.db,"users"),t);case 11:O(!1),m().fire({title:"Success",text:"Profile updated successfully!",icon:"success",confirmButtonColor:"#006f95"}).then((function(){localStorage.setItem("userDetails",JSON.stringify(t))})),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),O(!1),m().fire({title:"Failed",text:"Failed to update profile try again!",icon:"error",confirmButtonColor:"#006f95"});case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){!function(){F(!0);var e=(0,o.IO)((0,o.hJ)(d.db,"users"),(0,o.ar)("phoneNo","==",a.phoneNumber));(0,o.PL)(e).then((function(e){e.forEach((function(e){var t={firstName:e.data().firstName,lastName:e.data().lastName,email:e.data().email,id:e.id};y(e.data().profile),N(t)})),F(!1)}))}()}),[]),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(h.Z,{active:C,spinner:!0,text:"Please wait...",children:(0,p.jsxs)(l.xH,{className:"mb-4",children:[(0,p.jsx)(l.bn,{children:(0,p.jsx)(c.Z,{children:"Profile"})}),(0,p.jsx)(l.sl,{children:k?(0,p.jsx)("div",{className:"d-flex justify-content-center",children:(0,p.jsx)(l.LQ,{color:"primary",variant:"grow"})}):(0,p.jsxs)(l.lx,{className:"row g-3",children:[(0,p.jsx)(l.b7,{md:12,className:"d-flex justify-content-center",children:/(android|iphone|ipad|mobile)/i.test(navigator.userAgent)?(0,p.jsx)(l.pX,{style:{width:"50%"},src:g}):(0,p.jsx)(l.pX,{style:{width:"10%"},src:g})}),(0,p.jsxs)("div",{className:"d-flex justify-content-center pb-3",style:{borderBottom:"1px solid grey"},children:[(0,p.jsx)(l.u5,{className:"p-0 m-0 pt-1",children:(0,p.jsx)(l.L8,{htmlFor:"profile",style:{width:"150px"},children:"Upload"})}),(0,p.jsx)(l.jO,{hidden:!0,type:"file",id:"profile",onChange:function(e){var t=e.target.files[0],a=new FileReader;a.onload=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(t){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.result,y(a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.readAsDataURL(t)}})]}),(0,p.jsxs)(l.b7,{md:6,children:[(0,p.jsx)(l.L8,{htmlFor:"inputFirstName",children:"First Name"}),(0,p.jsx)(l.jO,{defaultValue:j.firstName,onChange:function(e){return N((0,r.Z)((0,r.Z)({},j),{},{firstName:e.target.value}))},type:"text",id:"inputFirstName"})]}),(0,p.jsxs)(l.b7,{md:6,children:[(0,p.jsx)(l.L8,{htmlFor:"inputLastName",children:"Last Name"}),(0,p.jsx)(l.jO,{defaultValue:j.lastName,onChange:function(e){return N((0,r.Z)((0,r.Z)({},j),{},{lastName:e.target.value}))},type:"text",id:"inputLastName"})]}),(0,p.jsxs)(l.b7,{md:6,children:[(0,p.jsx)(l.L8,{htmlFor:"inputEmail",children:"Email Address"}),(0,p.jsx)(l.jO,{defaultValue:j.email,onChange:function(e){return N((0,r.Z)((0,r.Z)({},j),{},{email:e.target.value}))},type:"email",id:"inputEmail"})]}),(0,p.jsxs)(l.b7,{md:6,children:[(0,p.jsx)(l.L8,{htmlFor:"inputMobil",children:"Mobile Number"}),(0,p.jsx)(l.jO,{value:null===a||void 0===a?void 0:a.phoneNumber.replace("+91",""),type:"text",id:"inputMobil"})]}),(0,p.jsx)(l.b7,{xs:12,className:"d-flex justify-content-center",children:(0,p.jsx)(l.u5,{className:"w-25",onClick:_,children:"Save"})})]})})]})})})}}}]);
//# sourceMappingURL=851.db760401.chunk.js.map